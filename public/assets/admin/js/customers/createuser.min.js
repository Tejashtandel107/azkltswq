var form_details=profile_form=reset_pass_form=company_form_submit="";function beforeformRequest(e,a,s){showLoader()}function onAjaxCallError(e,a,s){hideLoader();var t=$(form_details).parent().parent().attr("id");if(422==e.status||"Unprocessable Entity"==s){var r=[],o=$.parseJSON(e.responseText);$.each(o.errors,function(e,a){r.push({message:a})}),$("#"+t+" #notify").notification({caption:"One or more invalid input found.",messages:r,sticky:!0})}}function formResponse(e,a){hideLoader();var s=$(form_details).parent().parent().attr("id");$(form_details).data("formValidation").disableSubmitButtons(!1),"success"==a&&("success"==e.type?(null!=e.imageLocation&&$("#"+s+" .profile-img").attr("src",e.imageLocation),e.redirectUrl&&$("#"+s+" #notify").notification({caption:e.message,type:e.type,sticky:!1,closebutton:!1,onhide:function(){window.location.href=e.redirectUrl}}),$("#"+s+" #notify").notification({caption:e.message,type:e.type,sticky:!1,closebutton:!1})):$("#"+s+" #notify").notification({caption:e.message,type:e.type,sticky:!0,closebutton:!1}))}$(function(){$("#user-form").formValidation({framework:"bootstrap4",button:{selector:"#submitbtn",disabled:"disabled"},icon:null,fields:{firstname:{validators:{notEmpty:{message:"Please enter First Name"}}},lastname:{validators:{notEmpty:{message:"Please enter Last Name"}}},username:{validators:{notEmpty:{message:"Please enter User Name"},regexp:{regexp:/^[a-zA-Z0-9_.]+$/,message:'The username must not have blank space and special characters like ! " # $ % @ & â€™ ( ) *'}}},email:{validators:{notEmpty:{message:"Please enter Email"},emailAddress:{message:"Please enter valid Email Address"}}},photo:{validators:{file:{extension:"jpeg,jpg,png,bmp,gif,svg",type:"image/jpeg,image/png,image/bmp,image/gif,image/svg",message:"The selected file is not valid please select image file only"}}},password:{validators:{notEmpty:{message:"Please enter new password"},stringLength:{min:6}}},password_confirmation:{validators:{notEmpty:{message:"Please enter new password"},identical:{field:"password",message:"New Password and Confirm Password must be same"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,a){a.element.data("fv.messages").find('.error[data-fv-for="'+a.field+'"]').hide().filter('[data-fv-validator="'+a.validator+'"]').show()}),$("#reset-password-form").formValidation({framework:"bootstrap4",button:{selector:"#resetsubmit",disabled:"disabled"},icon:null,fields:{oldpassword:{validators:{notEmpty:{message:"Please enter current password"},stringLength:{min:6}}},password:{validators:{notEmpty:{message:"Please enter new password"},stringLength:{min:6}}},password_confirmation:{validators:{notEmpty:{message:"Please enter new password"},identical:{field:"password",message:"New Password and Confirm Password must be same"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,a){a.element.data("fv.messages").find('.error[data-fv-for="'+a.field+'"]').hide().filter('[data-fv-validator="'+a.validator+'"]').show()})});