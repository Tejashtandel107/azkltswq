var form_details=profile_form=reset_pass_form=company_form_submit="";function openModalPopUp(e){ajaxPopup(e,function(){configureModal()})}function deleteUser(e,t){confirm("Are you sure you want to delete this user?")&&ajaxUpdate(e,{user_id:t},deleteUserResponse,"delete")}function deleteUserResponse(e,t){hideLoader(),"success"==t?"success"==e.type?$("#deletenotify").notification({caption:e.message,type:e.type,sticky:!1,onhide:function(){RefreshLocation()}}):$("#deletenotify").notification({caption:e.message,type:e.type,sticky:!0}):$("#deletenotify").notification({caption:"Sorry, Unable to communicate with server. Please try again later.",type:"error",sticky:!0})}function beforeformRequest(e,t,o){showLoader()}function onAjaxCallError(e,t,o){var i=$(form_details).parent().parent().attr("id");if(422==e.status||"Unprocessable Entity"==o){var a=[];jQuery.each(e.responseJSON,function(e,t){a.push({message:t})}),$("#"+i+" #notify").notification({caption:"One or more invalid input found.",messages:a,sticky:!0})}}function formResponse(e,t){hideLoader();var o=$(form_details).parent().parent().attr("id");$(form_details).data("formValidation").disableSubmitButtons(!1),"success"==t&&("success"==e.type?(null!=e.imageLocation&&$("#"+o+" .profile-img").attr("src",e.imageLocation),e.redirectUrl&&$("#"+o+" #notify").notification({caption:e.message,type:e.type,sticky:!1,closebutton:!1,onhide:function(){window.location.href=e.redirectUrl}}),$("#"+o+" #notify").notification({caption:e.message,type:e.type,sticky:!1,closebutton:!1})):$("#"+o+" #notify").notification({caption:e.message,type:e.type,sticky:!0,closebutton:!1}))}$(function(){$("#customer-form").formValidation({framework:"bootstrap4",button:{selector:"#submitbtn",disabled:"disabled"},icon:null,fields:{companyname:{validators:{notEmpty:{message:"Please enter Company Name"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,t){t.element.data("fv.messages").find('.error[data-fv-for="'+t.field+'"]').hide().filter('[data-fv-validator="'+t.validator+'"]').show()})});