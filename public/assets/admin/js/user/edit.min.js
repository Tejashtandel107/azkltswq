var form_details=profile_form=reset_pass_form=company_form_submit="";function beforeformRequest(e,a,t){var s=$(a).parent().parent().attr("id");$(form_details).data("formValidation").disableSubmitButtons(!0),$("#"+s+" #notify").notification({caption:"We are processing your information update. Please wait.",sticky:!0})}function onAjaxCallError(e,a,t){var s=$(form_details).parent().parent().attr("id");if(422==e.status||"Unprocessable Entity"==t){var r=[],o=$.parseJSON(e.responseText);$.each(o.errors,function(e,a){r.push({message:a})}),$("#"+s+" #notify").notification({caption:"One or more invalid input found.",messages:r,sticky:!0})}}function formResponse(e,a){var t=$(form_details).parent().parent().attr("id");$(form_details).data("formValidation").disableSubmitButtons(!1),"success"==a&&(null!=e.imageLocation&&$("#"+t+" .profile-img").attr("src",e.imageLocation),"success"==e.type?$("#"+t+" #notify").notification({caption:e.message,type:e.type,sticky:!1,closebutton:!1}):$("#"+t+" #notify").notification({caption:e.message,type:e.type,sticky:!0,closebutton:!1}))}$(function(){$("#user-form").formValidation({framework:"bootstrap4",button:{selector:"#profileBtn",disabled:"disabled"},icon:null,fields:{firstname:{validators:{notEmpty:{message:"Please enter First Name"}}},username:{validators:{notEmpty:{message:"Please enter UserName"}}},email:{validators:{notEmpty:{message:"Please enter Email"},emailAddress:{message:"Please enter valid Email Address"}}},photo:{validators:{file:{extension:"jpeg,jpg,png,bmp,gif,svg",type:"image/jpeg,image/png,image/bmp,image/gif,image/svg",message:"The selected file is not valid please select image file only"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,a){a.element.data("fv.messages").find('.error[data-fv-for="'+a.field+'"]').hide().filter('[data-fv-validator="'+a.validator+'"]').show()}),$("#company-form").formValidation({framework:"bootstrap4",button:{selector:"#submitDetails",disabled:"disabled"},icon:null,fields:{companyname:{validators:{notEmpty:{message:"Please enter company name"}}},gstnumber:{validators:{notEmpty:{message:"Please enter GST number"}}},address:{validators:{notEmpty:{message:"Please enter address"}}},phone:{validators:{notEmpty:{message:"Please enter phone"}}},slogan:{validators:{notEmpty:{message:"Please enter slogan"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,a){a.element.data("fv.messages").find('.error[data-fv-for="'+a.field+'"]').hide().filter('[data-fv-validator="'+a.validator+'"]').show()}),$("#reset-password-form").formValidation({framework:"bootstrap4",button:{selector:"#submitbtn",disabled:"disabled"},icon:null,fields:{oldpassword:{validators:{notEmpty:{message:"Please enter current password"},stringLength:{min:6}}},password:{validators:{notEmpty:{message:"Please enter new password"},stringLength:{min:6}}},password_confirmation:{validators:{notEmpty:{message:"Please enter new password"},identical:{field:"password",message:"New Password and Confirm Password must be same"}}}},err:{clazz:"error"},row:{invalid:"",valid:""},onSuccess:function(e){e.preventDefault(),form_details=e.target,$(e.target).ajaxSubmit({beforeSubmit:beforeformRequest,error:onAjaxCallError,success:formResponse,dataType:"json"})}}).on("err.validator.fv",function(e,a){a.element.data("fv.messages").find('.error[data-fv-for="'+a.field+'"]').hide().filter('[data-fv-validator="'+a.validator+'"]').show()})});